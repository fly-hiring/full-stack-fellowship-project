defmodule FlyWeb.Components.Icons do
  @moduledoc """
  Defines and renders SVG icons.
  """
  import Phoenix.LiveView, only: [assign: 3, assign_new: 3], warn: false
  import Phoenix.LiveView.Helpers

  def render(%{type: :check} = assigns) do
    width = Map.get(assigns, :width, "24px")

    assigns =
      assigns
      |> assign_new(:width, fn -> width end)
      |> assign_new(:height, fn -> width end)
      |> assign_new(:style, fn -> "" end)
      |> assign_new(:class, fn -> "" end)

    ~H"""
    <svg role="img" class={@class} viewBox="0 0 24 24" style={"pointer-events: none; width: #{@width}; height: #{@height}; #{@style};"} fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
      <g buffered-rendering="static">
        <path d="M5 13l4 4L19 7" />
      </g>
    </svg>
    """
  end

  def render(%{type: :logo_mark} = assigns) do
    assigns =
      assigns
      |> assign_new(:width, fn -> "auto" end)
      |> assign_new(:height, fn -> "28px" end)
      |> assign_new(:class, fn -> "" end)

    ~H"""
    <svg role="img" class={@class} style={"pointer-events: none; width: #{@width}; height: #{@height};"} aria-labelledby="logo-title logo-description" fill-rule="evenodd" viewBox="0 0 88 74">
      <title id="logo-title">Fly</title>
      <desc id="logo-description">App performance optimization</desc>
      <g buffered-rendering="static">
        <path d="M29.487 73.313H9.48c-5.232 0-9.48-4.248-9.48-9.48V19.594c0-5.232 4.248-9.479 9.48-9.479h68.227c5.232 0 9.48 4.247 9.48 9.479v44.239c0 5.232-4.248 9.48-9.48 9.48H55.211v-2.418l-11.552-9.539-14.172 11.957z" fill="url(#violet-blue)" />
        <path d="M28.894 73.313l14.899-11.904 11.8 9.979-1.409 1.925h-25.29z" fill="#fff" />
        <path d="M13.18 73.312l-.188.001H7.697c-.942-.001-1.655-.838-1.655-1.78 0-.513.168-.938.564-1.264l18.435-16.22a1.722 1.722 0 012.181 0l11.277 9.272 4.004-3.292a1.722 1.722 0 012.181 0l12.455 10.24c.396.326.626.813.626 1.326 0 .942-.775 1.717-1.717 1.718h-4.136c-.35 0-.459-.056-.61-.236-.156-.215-.076-.417.112-.605l1.146-.792c.214-.215.309-.469.005-.716l-8.972-7.385-10.641 8.951a3.429 3.429 0 01-2.181.782H13.18zm55.381-20.107a3.72 3.72 0 00-3.701 3.701 3.722 3.722 0 003.701 3.701 3.722 3.722 0 003.702-3.701 3.721 3.721 0 00-3.702-3.701zM41.049 41.681l-1.247-1.238-.754-.782-1.906-2.049-.474-.52-2.311-2.702-.654-.811-2.024-2.634-.225-.303-1.555-2.291-.427-.69-1.114-1.913-.341-.626-.964-2.036-.182-.468-.554-1.558-.213-.736-.164-.68-.138-.738-.109-.82-.044-.524-.019-.894.004-.188.026-.535.193-1.95.06-.342.439-1.947.102-.326.326-.95.104-.247.519-1.14.36-.678.501-.827.5-.736.355-.468.411-.494.451-.496.386-.389.941-.828.688-.563a.64.64 0 01.052-.039l.814-.551.647-.412 1.228-.647c.019-.011.04-.02.06-.029l1.742-.723.161-.061 1.548-.453.654-.147.884-.177.586-.089.899-.112.614-.054 1.217-.065.476-.005.904.018.234.014 1.309.108 1.731.244.199.043 1.711.425.502.15.558.192.68.258.537.227.789.373.498.255.894.525.333.205 1.219.89.35.303.85.775.042.042.721.773.248.28.846 1.123.172.269.671 1.134.202.389.379.845.396.988.14.413.408 1.487c.008.026.013.053.018.08l.318 2.01.064.698.051.898.005.186-.019 1.003-.017.266-.054.433-.28 1.602-.067.293-.645 2.012a.656.656 0 01-.021.057l-.599 1.45-.022.048-.783 1.563-1.367 2.382-.726 1.11-.872 1.303-.614.842-1.217 1.627-.828 1.042-1.225 1.491-.858 1.003-1.319 1.485-.849.932-2.455 2.563-.571.564.337.287c.477.439.925.908 1.341 1.405.125.152.246.307.363.465.126.169.245.343.359.521.117.184.227.373.328.566.109.206.206.418.292.634.196.496.329 1.021.378 1.551l.022.403a5.798 5.798 0 01-.415 2.254 5.576 5.576 0 01-1.753 2.332 5.767 5.767 0 01-.87.562 6.224 6.224 0 01-2.276.676h-.005a6.594 6.594 0 01-1.439-.013 6.356 6.356 0 01-1.321-.301 5.975 5.975 0 01-1.169-.552 5.681 5.681 0 01-1.174-.956 5.579 5.579 0 01-1.114-1.746 5.805 5.805 0 01-.413-2.002l.007-.487a5.612 5.612 0 01.362-1.647c.079-.207.169-.409.268-.606.195-.38.418-.744.668-1.091.163-.227.336-.447.516-.66.377-.441.778-.86 1.202-1.255l.156-.141.25-.209z" fill="#24165b" />
        <path d="M43.645 44.675l.099.029c.031.015.058.038.087.057l.082.073c.203.187.4.382.589.583.134.143.264.29.389.441.159.192.307.393.443.602.058.092.113.186.164.283.044.084.084.171.119.26.061.153.107.315.122.48l-.003.31a1.767 1.767 0 01-.838 1.377c-.31.187-.658.302-1.019.335l-.383.012-.323-.029a2.407 2.407 0 01-.443-.108 2.124 2.124 0 01-.421-.197l-.252-.184a1.732 1.732 0 01-.574-.985 2.113 2.113 0 01-.03-.194l-.009-.296c.005-.08.017-.159.035-.237.044-.173.107-.34.187-.499a3.75 3.75 0 01.159-.284c.061-.099.126-.195.194-.289.218-.295.455-.576.708-.842.163-.172.331-.339.505-.5l.124-.112c.086-.057.087-.057.186-.086h.103zM43.01 3.507a5.742 5.742 0 00-2.561.902c-1.184.761-2.088 1.898-2.755 3.132-.111.206-.216.416-.315.628a15.461 15.461 0 00-.692 1.802c-.133.426-.25.858-.35 1.294-.127.549-.23 1.103-.313 1.66-.105.708-.177 1.42-.223 2.135a30.98 30.98 0 00-.055 1.363c-.01.523-.006 1.046.03 1.567.086 1.222.295 2.432.568 3.625a42.242 42.242 0 001.297 4.436 68.695 68.695 0 002.152 5.388 96.463 96.463 0 003.171 6.427l.086.159V3.503l-.04.004zm4.477.087c.789.164 1.565.383 2.322.662 1.076.397 2.111.915 3.063 1.561a12.267 12.267 0 013.293 3.285c.516.767.943 1.594 1.276 2.458.483 1.279.782 2.619.888 3.982.03.357.048.714.055 1.072.008.332.006.666-.02.998a11.227 11.227 0 01-.418 2.194c-.17.586-.371 1.162-.602 1.727a24.872 24.872 0 01-.955 2.064c-.774 1.495-1.665 2.925-2.619 4.308a67.016 67.016 0 01-3.776 4.928 94.02 94.02 0 01-4.53 5.021 96.035 96.035 0 002.982-6.101 75.955 75.955 0 001.449-3.493c.5-1.292.951-2.602 1.351-3.928.297-.994.56-1.998.776-3.013.185-.87.331-1.75.421-2.635.076-.738.104-1.48.085-2.221a30.746 30.746 0 00-.05-1.358c-.109-1.821-.385-3.636-.916-5.382a15.641 15.641 0 00-.733-1.94c-.679-1.48-1.628-2.865-2.911-3.874a7.786 7.786 0 00-.431-.315z" fill="#fff" />
      </g>
      <defs>
        <radialgradient id="violet-blue" fx="50%" fy="90%" r="120%" spreadMethod="pad">
          <stop offset="0%" stop-color="#BA7BF0" stop-opacity="1"></stop>
          <stop offset="100%" stop-color="#5046E4" stop-opacity="1"></stop>
        </radialgradient>
      </defs>
    </svg>
    """
  end

  def render(assigns) do
    raise ArgumentError, "icon #{inspect(assigns)} is not supported"
  end
end
